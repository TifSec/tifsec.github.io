<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Inserts de jeux de soci√©t√© ‚Äì Portfolio</title>
  <meta name="description" content="Portfolio de cr√©ations originales d'inserts pour jeux de soci√©t√© : photos, plans 3D et prototypes." />
</head>
<body>
  <!-- Header / nav -->
  <header>
    <div class="container topbar">
      <a class="brand" href="#top" aria-label="Accueil">
        <span class="brand-logo" aria-hidden="true">
          <!-- meeple+dice pictogram -->
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Logo">
            <path d="M6 10.5c1-2.5 2.5-3.75 6-3.75s5 1.25 6 3.75c.3.7-.2 1.5-1 1.5h-10c-.8 0-1.3-.8-1-1.5z" fill="white" fill-opacity=".9"/>
            <rect x="12.5" y="12.5" width="8" height="8" rx="2" stroke="white" stroke-opacity=".9"/>
            <circle cx="14.5" cy="14.5" r=".9" fill="white"/>
            <circle cx="18.5" cy="16.5" r=".9" fill="white"/>
            <circle cx="16.5" cy="18.5" r=".9" fill="white"/>
          </svg>
        </span>
        <span>Inserts ¬∑ Portfolio</span>
      </a>
      <div class="spacer"></div>
      <nav>
        <a href="#top" class="pill" title="Accueil">Accueil</a>
      </nav>
      <form class="search" role="search" onsubmit="event.preventDefault()">
        <input id="search" type="search" placeholder="Rechercher un jeu, une m√©canique, un √©diteur‚Ä¶" aria-label="Recherche" />
        <span class="icon" aria-hidden="true">üîé</span>
      </form>
    </div>
  </header>

  <!-- Hero banner -->
  <div class="container">
    <section class="hero" id="top" aria-label="Pr√©sentation">
      <div class="hero-inner">
        <div>
          <h1>Inserts sur-mesure pour jeux de soci√©t√©</h1>
          <p>D√©couvrez mes cr√©ations : rangements optimis√©s, plans 3D et photos d√©taill√©es. Id√©al pour prot√©ger vos composants et acc√©l√©rer la mise en place.</p>
          <div class="hero-badges">
            <span class="badge">Photographies & rendus 3D</span>
            <span class="badge">Prototypes √† venir</span>
            <span class="badge">Design modulable</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Layout: contenu + menu lat√©ral droite -->
    <div class="layout">
      <!-- Contenu principal: sections par jeu -->
      <main id="content" aria-live="polite">
        <!-- =====================
             Exemple 1 : Jeu A
        ======================-->
        <section class="game" id="jeu-a" data-title="Wingspan" data-tags="engine-building oiseau stonemaier cartes" aria-labelledby="jeu-a-title">
          <article class="card">
            <header class="card-header">
              <h2 class="card-title" id="jeu-a-title">Wingspan</h2>
              <span class="pill" title="Type de bo√Æte">Bo√Æte standard</span>
              <div class="card-meta">
                <span class="pill">#cartes</span>
                <span class="pill">#plateaux</span>
                <span class="pill">#jetons</span>
              </div>
            </header>
            <div class="grid">
              <!-- Images multiples du m√™me produit -->
              <!-- <figure class="item cols-4" data-group="jeu-a">
                <img loading="lazy" src="https://images.unsplash.com/photo-1542751371-adc38448a05e?w=1200" alt="Insert : vue d'ensemble"/>
                <figcaption class="tag">Photo</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure> -->
              <!-- Plan 3D interactif -->
              <figure class="item cols-4 model3d" data-group="jeu-a">
                 <model-viewer src="images/prey_another_day/PAD_1.glb" camera-controls tone-mapping="neutral" poster="poster.webp" shadow-intensity="1">
                    <div class="progress-bar hide" slot="progress-bar">
                        <div class="update-bar"></div>
                    </div>
                    </model-viewer>
                <figcaption class="tag">3D interactif</figcaption>
                <button class="zoom" aria-label="Plein √©cran" data-fullscreen>‚õ∂</button>
              </figure>
              <!-- <figure class="item cols-4" data-group="jeu-a">
                <img loading="lazy" src="https://images.unsplash.com/photo-1563298723-dcfebaa392e3?w=1200" alt="Compartiments cartes"/>
                <figcaption class="tag">Photo</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
              <figure class="item cols-4" data-group="jeu-a">
                <img loading="lazy" src="https://images.unsplash.com/photo-1587620962725-abab7fe55159?w=1200" alt="Plan 3D ‚Äì bac √† d√©s"/>
                <figcaption class="tag">Plan 3D</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
              <figure class="item cols-4" data-group="jeu-a">
                <img loading="lazy" src="https://images.unsplash.com/photo-1527430253228-e93688616381?w=1200" alt="Plan 3D ‚Äì organisation int√©rieure"/>
                <figcaption class="tag">Plan 3D</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
            </div>
          </article> -->
        </section>

        <!-- =====================
             Exemple 2 : Jeu B
        ======================-->
        <!-- <section class="game" id="jeu-b" data-title="Ark Nova" data-tags="zoo cartes plateau puzzle cranio" aria-labelledby="jeu-b-title">
          <article class="card">
            <header class="card-header">
              <h2 class="card-title" id="jeu-b-title">Ark Nova</h2>
              <span class="pill">Bo√Æte large</span>
              <div class="card-meta">
                <span class="pill">#organizers</span>
                <span class="pill">#plateaux joueurs</span>
              </div>
            </header>
            <div class="grid">
              <figure class="item cols-4" data-group="jeu-b">
                <img loading="lazy" src="https://images.unsplash.com/photo-1517677208171-0bc6725a3e60?w=1200" alt="Insert : modules empilables"/>
                <figcaption class="tag">Photo</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
              <figure class="item cols-4" data-group="jeu-b">
                <img loading="lazy" src="https://images.unsplash.com/photo-1555618568-2fae3c2e92d8?w=1200" alt="Plan 3D : casiers jetons"/>
                <figcaption class="tag">Plan 3D</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
              <figure class="item cols-4" data-group="jeu-b">
                <img loading="lazy" src="https://images.unsplash.com/photo-1596495578065-8a35b96e0613?w=1200" alt="Photo : test d'assemblage"/>
                <figcaption class="tag">Photo</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
              <figure class="item cols-4" data-group="jeu-b">
                <img loading="lazy" src="https://images.unsplash.com/photo-1558981359-219d6364c9c8?w=1200" alt="Plan 3D : vue √©clat√©e"/>
                <figcaption class="tag">Plan 3D</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
            </div>
          </article>
        </section> -->

        <!-- =====================
             Exemple 3 : Jeu C
        ======================-->
        <!-- <section class="game" id="jeu-c" data-title="Cascadia" data-tags="tuiles nature puzzle family aes" aria-labelledby="jeu-c-title">
          <article class="card">
            <header class="card-header">
              <h2 class="card-title" id="jeu-c-title">Cascadia</h2>
              <span class="pill">Bo√Æte standard</span>
              <div class="card-meta">
                <span class="pill">#tuiles</span>
                <span class="pill">#jetons</span>
              </div>
            </header>
            <div class="grid">
              <figure class="item cols-4" data-group="jeu-c">
                <img loading="lazy" src="https://images.unsplash.com/photo-1581299894007-aaa50297cf16?w=1200" alt="Photo : casiers hexagonaux"/>
                <figcaption class="tag">Photo</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
              <figure class="item cols-4" data-group="jeu-c">
                <img loading="lazy" src="https://images.unsplash.com/photo-1581291518857-4e27b48ff24e?w=1200" alt="Plan 3D : cales anti-jeu"/>
                <figcaption class="tag">Plan 3D</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
              <figure class="item cols-4" data-group="jeu-c">
                <img loading="lazy" src="https://images.unsplash.com/photo-1515879218367-8466d910aaa4?w=1200" alt="Photo : vue de dessus"/>
                <figcaption class="tag">Photo</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
              <figure class="item cols-4" data-group="jeu-c">
                <img loading="lazy" src="https://images.unsplash.com/photo-1553877522-43269d4ea984?w=1200" alt="Plan 3D : empilement"/>
                <figcaption class="tag">Plan 3D</figcaption>
                <button class="zoom" aria-label="Agrandir" data-zoom>‚§¢</button>
              </figure>
            </div>
          </article>
        </section>
      </main> -->

      <!-- Menu lat√©ral (droite) : liste des jeux -->
      <aside class="sidebar" aria-label="Navigation des jeux">
        <div class="menu" id="sideMenu">
          <h3>Jeux</h3>
          <a href="#jeu-a">Wingspan</a>
          <a href="#jeu-b">Ark Nova</a>
          <a href="#jeu-c">Cascadia</a>
        </div>
      </aside>
    </div>

    <!-- Footer -->
    <footer>
      <div class="footer-inner">
        <div class="legal">¬© <span id="year"></span> Inserts ‚Äì Cr√©ations originales. Tous droits r√©serv√©s.</div>
        <div class="links">
          <a class="pill" href="#top">Haut de page ‚Üë</a>
          <a class="pill" href="mailto:contact@exemple.com">Contact</a>
          <a class="pill" href="#" title="Mentions l√©gales">Mentions l√©gales</a>
        </div>
      </div>
    </footer>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-label="Aper√ßu image">
    <button class="close" id="lbClose" aria-label="Fermer">‚úï</button>
    <button class="prev" id="lbPrev" aria-label="Image pr√©c√©dente">‚óÄ</button>
    <div class="frame">
      <img id="lbImg" alt="Aper√ßu" />
    </div>
    <button class="next" id="lbNext" aria-label="Image suivante">‚ñ∂</button>
  </div>

  <script>
    // ==============================
    // Utilitaires
    // ==============================
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    // Ann√©e footer
    $('#year').textContent = new Date().getFullYear();

    // ==============================
    // Recherche (filtrage live)
    // ==============================
    const searchInput = $('#search');
    const games = $$('.game');
    const sideLinks = $$('#sideMenu a');

    function normalize(s){ return (s || '').toLowerCase().normalize('NFD').replace(/\p{Diacritic}/gu,''); }

    function applyFilter(q){
      const nq = normalize(q);
      games.forEach(section => {
        const title = normalize(section.dataset.title);
        const tags = normalize(section.dataset.tags);
        const match = !nq || title.includes(nq) || tags.includes(nq);
        section.style.display = match ? '' : 'none';
      });
      // activer / d√©sactiver les liens du menu
      sideLinks.forEach(a => {
        const id = a.getAttribute('href').slice(1);
        const sec = document.getElementById(id);
        a.classList.toggle('active', sec && sec.style.display !== 'none');
      })
    }
    searchInput.addEventListener('input', (e)=> applyFilter(e.target.value));

    // ==============================
    // Lightbox simple
    // ==============================
    const lightbox = $('#lightbox');
    const lbImg = $('#lbImg');
    const lbPrev = $('#lbPrev');
    const lbNext = $('#lbNext');
    const lbClose = $('#lbClose');

    let currentGroup = [];
    let currentIndex = 0;

    function openLightbox(src, groupEls, index){
      currentGroup = groupEls.map(el => $('img', el).src);
      currentIndex = index;
      lbImg.src = src;
      lightbox.classList.add('open');
    }
    function closeLightbox(){ lightbox.classList.remove('open'); lbImg.src=''; }
    function show(delta){
      if(!currentGroup.length) return;
      currentIndex = (currentIndex + delta + currentGroup.length) % currentGroup.length;
      lbImg.src = currentGroup[currentIndex];
    }

    // Ouvrir depuis les boutons
    $$('[data-zoom]').forEach((btn, idx) =>{
      btn.addEventListener('click', (e)=>{
        const fig = e.currentTarget.closest('.item');
        const groupName = fig.dataset.group;
        const groupEls = $$(`.item[data-group="${groupName}"]`);
        const index = groupEls.indexOf(fig);
        openLightbox($('img', fig).src, groupEls, index);
      })
    })

    // Plein √©cran pour les mod√®les 3D
    $$('[data-fullscreen]').forEach(btn =>{
      btn.addEventListener('click', (e)=>{
        const mv = e.currentTarget.closest('.item').querySelector('model-viewer');
        if(mv && mv.requestFullscreen){ mv.requestFullscreen(); }
      })
    })

    // Contr√¥les lightbox
    lbPrev.addEventListener('click', ()=> show(-1));
    lbNext.addEventListener('click', ()=> show(1));
    lbClose.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', (e)=>{ if(e.target === lightbox) closeLightbox(); });
    window.addEventListener('keydown', (e)=>{
      if(!lightbox.classList.contains('open')) return;
      if(e.key === 'Escape') closeLightbox();
      if(e.key === 'ArrowLeft') show(-1);
      if(e.key === 'ArrowRight') show(1);
    });

    // ==============================
    // Am√©liorations UX l√©g√®res
    // ==============================
    // surligner lien actif au scroll
    const observer = new IntersectionObserver((entries)=>{
      entries.forEach(entry =>{
        const id = entry.target.id;
        const link = $(`#sideMenu a[href="#${id}"]`);
        if(link){ link.classList.toggle('active', entry.isIntersecting); }
      })
    }, {rootMargin: "-40% 0px -55% 0px", threshold: 0});
    games.forEach(g => observer.observe(g));

    // Accessibilit√©: focus visible sur clic clavier
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Tab') document.body.classList.add('kbd');
    });
      // V√©rification rapide : si le composant n'est pas charg√©, afficher un message dans la console
    window.addEventListener('DOMContentLoaded', ()=>{
      if(!customElements.get('model-viewer')){
        console.warn('model-viewer non initialis√© ‚Äî v√©rifiez votre connexion r√©seau ou le blocage des scripts externes.');
      }
    });
  </script>
  <!-- Composant Web pour l'affichage 3D -->
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
</body>
</html>
